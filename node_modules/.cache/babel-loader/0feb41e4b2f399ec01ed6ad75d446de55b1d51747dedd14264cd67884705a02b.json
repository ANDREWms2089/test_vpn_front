{"ast":null,"code":"let telegramSDK=null;let initData=null;let miniApp=null;export async function initTelegramSDK(){try{const sdk=await import('@tma.js/sdk');telegramSDK=sdk;const miniAppResult=await sdk.initMiniApp();miniApp=miniAppResult;const initDataResult=await sdk.initInitData();initData=initDataResult;return{initData:initDataResult,miniApp:miniAppResult};}catch(error){console.error('Telegram SDK initialization error:',error);return null;}}export function getTelegramUser(){if(!initData){return null;}try{const user=initData.user;if(!user){return null;}return{id:user.id,firstName:user.firstName||'',lastName:user.lastName||'',username:user.username||'',languageCode:user.languageCode||'ru',isBot:user.isBot||false,isPremium:user.isPremium||false};}catch(error){console.error('Error getting Telegram user:',error);return null;}}export function getInitData(){return initData;}export function getMiniApp(){return miniApp;}","map":{"version":3,"names":["telegramSDK","initData","miniApp","initTelegramSDK","sdk","miniAppResult","initMiniApp","initDataResult","initInitData","error","console","getTelegramUser","user","id","firstName","lastName","username","languageCode","isBot","isPremium","getInitData","getMiniApp"],"sources":["/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/services/telegram.js"],"sourcesContent":["let telegramSDK = null;\nlet initData = null;\nlet miniApp = null;\n\nexport async function initTelegramSDK() {\n  try {\n    const sdk = await import('@tma.js/sdk');\n    telegramSDK = sdk;\n    \n    const miniAppResult = await sdk.initMiniApp();\n    miniApp = miniAppResult;\n    \n    const initDataResult = await sdk.initInitData();\n    initData = initDataResult;\n    \n    return {\n      initData: initDataResult,\n      miniApp: miniAppResult,\n    };\n  } catch (error) {\n    console.error('Telegram SDK initialization error:', error);\n    return null;\n  }\n}\n\nexport function getTelegramUser() {\n  if (!initData) {\n    return null;\n  }\n\n  try {\n    const user = initData.user;\n    if (!user) {\n      return null;\n    }\n\n    return {\n      id: user.id,\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      username: user.username || '',\n      languageCode: user.languageCode || 'ru',\n      isBot: user.isBot || false,\n      isPremium: user.isPremium || false,\n    };\n  } catch (error) {\n    console.error('Error getting Telegram user:', error);\n    return null;\n  }\n}\n\nexport function getInitData() {\n  return initData;\n}\n\nexport function getMiniApp() {\n  return miniApp;\n}\n\n"],"mappings":"AAAA,GAAI,CAAAA,WAAW,CAAG,IAAI,CACtB,GAAI,CAAAC,QAAQ,CAAG,IAAI,CACnB,GAAI,CAAAC,OAAO,CAAG,IAAI,CAElB,MAAO,eAAe,CAAAC,eAAeA,CAAA,CAAG,CACtC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,OAAM,CAAC,aAAa,CAAC,CACvCJ,WAAW,CAAGI,GAAG,CAEjB,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAD,GAAG,CAACE,WAAW,CAAC,CAAC,CAC7CJ,OAAO,CAAGG,aAAa,CAEvB,KAAM,CAAAE,cAAc,CAAG,KAAM,CAAAH,GAAG,CAACI,YAAY,CAAC,CAAC,CAC/CP,QAAQ,CAAGM,cAAc,CAEzB,MAAO,CACLN,QAAQ,CAAEM,cAAc,CACxBL,OAAO,CAAEG,aACX,CAAC,CACH,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1D,MAAO,KAAI,CACb,CACF,CAEA,MAAO,SAAS,CAAAE,eAAeA,CAAA,CAAG,CAChC,GAAI,CAACV,QAAQ,CAAE,CACb,MAAO,KAAI,CACb,CAEA,GAAI,CACF,KAAM,CAAAW,IAAI,CAAGX,QAAQ,CAACW,IAAI,CAC1B,GAAI,CAACA,IAAI,CAAE,CACT,MAAO,KAAI,CACb,CAEA,MAAO,CACLC,EAAE,CAAED,IAAI,CAACC,EAAE,CACXC,SAAS,CAAEF,IAAI,CAACE,SAAS,EAAI,EAAE,CAC/BC,QAAQ,CAAEH,IAAI,CAACG,QAAQ,EAAI,EAAE,CAC7BC,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,EAAI,EAAE,CAC7BC,YAAY,CAAEL,IAAI,CAACK,YAAY,EAAI,IAAI,CACvCC,KAAK,CAAEN,IAAI,CAACM,KAAK,EAAI,KAAK,CAC1BC,SAAS,CAAEP,IAAI,CAACO,SAAS,EAAI,KAC/B,CAAC,CACH,CAAE,MAAOV,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD,MAAO,KAAI,CACb,CACF,CAEA,MAAO,SAAS,CAAAW,WAAWA,CAAA,CAAG,CAC5B,MAAO,CAAAnB,QAAQ,CACjB,CAEA,MAAO,SAAS,CAAAoB,UAAUA,CAAA,CAAG,CAC3B,MAAO,CAAAnB,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/components/ServiceStatus.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './ServiceStatus.css';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ServiceStatus({\n  user\n}) {\n  _s();\n  const [subscription, setSubscription] = useState(null);\n  const [isOnline, setIsOnline] = useState(false);\n  useEffect(() => {\n    const fetchSubscription = async () => {\n      if (!(user !== null && user !== void 0 && user.id) && !(user !== null && user !== void 0 && user.telegram_id)) return;\n      try {\n        const userId = user.id || user.telegram_id;\n        const subData = await apiService.getSubscription(userId);\n        setSubscription(subData);\n      } catch (error) {\n        console.error('Error fetching subscription:', error);\n      }\n    };\n    fetchSubscription();\n  }, [user]);\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n  const subscriptionDate = subscription !== null && subscription !== void 0 && subscription.expires_at ? `до ${formatDate(subscription.expires_at)}` : 'до 31 декабря 2025';\n  const subscriptionType = subscription !== null && subscription !== void 0 && subscription.is_trial ? 'пробный период' : subscription !== null && subscription !== void 0 && subscription.is_active ? 'активна' : 'неактивна';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"service-status\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-name\",\n      children: \"Beznet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"subscription-date\",\n      children: subscriptionDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-state\",\n      children: isOnline ? 'online' : 'offline'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"subscription-type\",\n      children: subscriptionType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(ServiceStatus, \"vtpiOzeaVP1rkF4mQbfPeNrhb28=\");\n_c = ServiceStatus;\nexport default ServiceStatus;\nvar _c;\n$RefreshReg$(_c, \"ServiceStatus\");","map":{"version":3,"names":["React","useEffect","useState","apiService","jsxDEV","_jsxDEV","ServiceStatus","user","_s","subscription","setSubscription","isOnline","setIsOnline","fetchSubscription","id","telegram_id","userId","subData","getSubscription","error","console","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","subscriptionDate","expires_at","subscriptionType","is_trial","is_active","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/components/ServiceStatus.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './ServiceStatus.css';\nimport apiService from '../services/api';\n\nfunction ServiceStatus({ user }) {\n  const [subscription, setSubscription] = useState(null);\n  const [isOnline, setIsOnline] = useState(false);\n\n  useEffect(() => {\n    const fetchSubscription = async () => {\n      if (!user?.id && !user?.telegram_id) return;\n\n      try {\n        const userId = user.id || user.telegram_id;\n        const subData = await apiService.getSubscription(userId);\n        setSubscription(subData);\n      } catch (error) {\n        console.error('Error fetching subscription:', error);\n      }\n    };\n\n    fetchSubscription();\n  }, [user]);\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ru-RU', { \n      day: 'numeric', \n      month: 'long', \n      year: 'numeric' \n    });\n  };\n\n  const subscriptionDate = subscription?.expires_at \n    ? `до ${formatDate(subscription.expires_at)}`\n    : 'до 31 декабря 2025';\n  \n  const subscriptionType = subscription?.is_trial \n    ? 'пробный период'\n    : subscription?.is_active \n    ? 'активна'\n    : 'неактивна';\n\n  return (\n    <div className=\"service-status\">\n      <div className=\"service-name\">Beznet</div>\n      <div className=\"subscription-date\">{subscriptionDate}</div>\n      <div className=\"service-state\">{isOnline ? 'online' : 'offline'}</div>\n      <div className=\"subscription-type\">{subscriptionType}</div>\n    </div>\n  );\n}\n\nexport default ServiceStatus;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
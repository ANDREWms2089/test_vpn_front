{"ast":null,"code":"import React,{useState}from'react';import'./SubscriptionSelectionPage.css';import ConfirmationModal from'./ConfirmationModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PLANS=[{id:'1m',months:1,label:'1 месяца',price:149,pricePerMonth:null},{id:'3m',months:3,label:'3 месяца',price:399,pricePerMonth:110},{id:'6m',months:6,label:'6 месяцев',price:749,pricePerMonth:120},{id:'12m',months:12,label:'1 год',price:1399,pricePerMonth:110}];function SubscriptionSelectionPage(_ref){let{onBack,tariffId,userId}=_ref;const[selectedPlan,setSelectedPlan]=useState(PLANS[1]);const[isConfirmOpen,setIsConfirmOpen]=useState(false);const handlePayClick=()=>{setIsConfirmOpen(true);};const formatDateEnd=months=>{const d=new Date();d.setMonth(d.getMonth()+months);const day=d.getDate();const monthsRu=['января','февраля','марта','апреля','мая','июня','июля','августа','сентября','октября','ноября','декабря'];return\"\".concat(day,\" \").concat(monthsRu[d.getMonth()],\" \").concat(d.getFullYear());};return/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-selection-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"subscription-selection-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-selection-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-selection-header\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"subscription-selection-back-button\",onClick:onBack,children:/*#__PURE__*/_jsx(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15 18L9 12L15 6\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"subscription-selection-title\",children:\"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subscription-selection-header-spacer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-selection-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"subscription-selection-grid\",children:PLANS.map(plan=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"subscription-plan-card \".concat(selectedPlan.id===plan.id?'subscription-plan-card-selected':''),onClick:()=>setSelectedPlan(plan),children:[/*#__PURE__*/_jsx(\"span\",{className:\"subscription-plan-badge\",children:\"\\u041F\\u041E\\u041F\\u0423\\u041B\\u042F\\u0420\\u041D\\u042B\\u0419\"}),/*#__PURE__*/_jsx(\"span\",{className:\"subscription-plan-label\",children:plan.label}),/*#__PURE__*/_jsxs(\"span\",{className:\"subscription-plan-price\",children:[plan.price,\" \\u0420\"]}),plan.pricePerMonth!=null&&/*#__PURE__*/_jsxs(\"span\",{className:\"subscription-plan-price-per-month\",children:[plan.pricePerMonth,\" \\u0420 \\u0432 \\u043C\\u0435\\u0441\\u044F\\u0446\"]})]},plan.id))}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"subscription-selection-pay-button\",onClick:handlePayClick,children:[\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \",selectedPlan.price,\" \\u0420\"]})]})]}),/*#__PURE__*/_jsx(ConfirmationModal,{isOpen:isConfirmOpen,onClose:()=>setIsConfirmOpen(false),plan:selectedPlan,tariffId:tariffId,formatDateEnd:formatDateEnd,userId:userId})]});}export default SubscriptionSelectionPage;","map":{"version":3,"names":["React","useState","ConfirmationModal","jsx","_jsx","jsxs","_jsxs","PLANS","id","months","label","price","pricePerMonth","SubscriptionSelectionPage","_ref","onBack","tariffId","userId","selectedPlan","setSelectedPlan","isConfirmOpen","setIsConfirmOpen","handlePayClick","formatDateEnd","d","Date","setMonth","getMonth","day","getDate","monthsRu","concat","getFullYear","className","children","type","onClick","width","height","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","map","plan","isOpen","onClose"],"sources":["/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/components/SubscriptionSelectionPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './SubscriptionSelectionPage.css';\nimport ConfirmationModal from './ConfirmationModal';\n\nconst PLANS = [\n  { id: '1m', months: 1, label: '1 месяца', price: 149, pricePerMonth: null },\n  { id: '3m', months: 3, label: '3 месяца', price: 399, pricePerMonth: 110 },\n  { id: '6m', months: 6, label: '6 месяцев', price: 749, pricePerMonth: 120 },\n  { id: '12m', months: 12, label: '1 год', price: 1399, pricePerMonth: 110 },\n];\n\nfunction SubscriptionSelectionPage({ onBack, tariffId, userId }) {\n  const [selectedPlan, setSelectedPlan] = useState(PLANS[1]);\n  const [isConfirmOpen, setIsConfirmOpen] = useState(false);\n\n  const handlePayClick = () => {\n    setIsConfirmOpen(true);\n  };\n\n  const formatDateEnd = (months) => {\n    const d = new Date();\n    d.setMonth(d.getMonth() + months);\n    const day = d.getDate();\n    const monthsRu = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'];\n    return `${day} ${monthsRu[d.getMonth()]} ${d.getFullYear()}`;\n  };\n\n  return (\n    <div className=\"subscription-selection-page\">\n      <div className=\"subscription-selection-background\"></div>\n      <div className=\"subscription-selection-content\">\n        <div className=\"subscription-selection-header\">\n          <button type=\"button\" className=\"subscription-selection-back-button\" onClick={onBack}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M15 18L9 12L15 6\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n          <h1 className=\"subscription-selection-title\">Выбор подписки</h1>\n          <div className=\"subscription-selection-header-spacer\"></div>\n        </div>\n\n        <div className=\"subscription-selection-body\">\n          <div className=\"subscription-selection-grid\">\n            {PLANS.map((plan) => (\n              <button\n                key={plan.id}\n                type=\"button\"\n                className={`subscription-plan-card ${selectedPlan.id === plan.id ? 'subscription-plan-card-selected' : ''}`}\n                onClick={() => setSelectedPlan(plan)}\n              >\n                <span className=\"subscription-plan-badge\">ПОПУЛЯРНЫЙ</span>\n                <span className=\"subscription-plan-label\">{plan.label}</span>\n                <span className=\"subscription-plan-price\">{plan.price} Р</span>\n                {plan.pricePerMonth != null && (\n                  <span className=\"subscription-plan-price-per-month\">{plan.pricePerMonth} Р в месяц</span>\n                )}\n              </button>\n            ))}\n          </div>\n\n          <button type=\"button\" className=\"subscription-selection-pay-button\" onClick={handlePayClick}>\n            Оплатить {selectedPlan.price} Р\n          </button>\n        </div>\n      </div>\n\n      <ConfirmationModal\n        isOpen={isConfirmOpen}\n        onClose={() => setIsConfirmOpen(false)}\n        plan={selectedPlan}\n        tariffId={tariffId}\n        formatDateEnd={formatDateEnd}\n        userId={userId}\n      />\n    </div>\n  );\n}\n\nexport default SubscriptionSelectionPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
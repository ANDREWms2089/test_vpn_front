{"ast":null,"code":"let telegramSDK = null;\nlet initData = null;\nlet miniApp = null;\nexport async function initTelegramSDK() {\n  try {\n    const sdk = await import('@tma.js/sdk');\n    telegramSDK = sdk;\n    const miniAppResult = await sdk.initMiniApp();\n    miniApp = miniAppResult;\n    const initDataResult = await sdk.initInitData();\n    initData = initDataResult;\n    return {\n      initData: initDataResult,\n      miniApp: miniAppResult\n    };\n  } catch (error) {\n    console.error('Telegram SDK initialization error:', error);\n    return null;\n  }\n}\nexport function getTelegramUser() {\n  if (!initData) {\n    return null;\n  }\n  try {\n    const user = initData.user;\n    if (!user) {\n      return null;\n    }\n    return {\n      id: user.id,\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      username: user.username || '',\n      languageCode: user.languageCode || 'ru',\n      isBot: user.isBot || false,\n      isPremium: user.isPremium || false\n    };\n  } catch (error) {\n    console.error('Error getting Telegram user:', error);\n    return null;\n  }\n}\nexport function getInitData() {\n  return initData;\n}\nexport function getMiniApp() {\n  return miniApp;\n}","map":{"version":3,"names":["telegramSDK","initData","miniApp","initTelegramSDK","sdk","miniAppResult","initMiniApp","initDataResult","initInitData","error","console","getTelegramUser","user","id","firstName","lastName","username","languageCode","isBot","isPremium","getInitData","getMiniApp"],"sources":["/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/services/telegram.js"],"sourcesContent":["let telegramSDK = null;\nlet initData = null;\nlet miniApp = null;\n\nexport async function initTelegramSDK() {\n  try {\n    const sdk = await import('@tma.js/sdk');\n    telegramSDK = sdk;\n    \n    const miniAppResult = await sdk.initMiniApp();\n    miniApp = miniAppResult;\n    \n    const initDataResult = await sdk.initInitData();\n    initData = initDataResult;\n    \n    return {\n      initData: initDataResult,\n      miniApp: miniAppResult,\n    };\n  } catch (error) {\n    console.error('Telegram SDK initialization error:', error);\n    return null;\n  }\n}\n\nexport function getTelegramUser() {\n  if (!initData) {\n    return null;\n  }\n\n  try {\n    const user = initData.user;\n    if (!user) {\n      return null;\n    }\n\n    return {\n      id: user.id,\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      username: user.username || '',\n      languageCode: user.languageCode || 'ru',\n      isBot: user.isBot || false,\n      isPremium: user.isPremium || false,\n    };\n  } catch (error) {\n    console.error('Error getting Telegram user:', error);\n    return null;\n  }\n}\n\nexport function getInitData() {\n  return initData;\n}\n\nexport function getMiniApp() {\n  return miniApp;\n}\n\n"],"mappings":"AAAA,IAAIA,WAAW,GAAG,IAAI;AACtB,IAAIC,QAAQ,GAAG,IAAI;AACnB,IAAIC,OAAO,GAAG,IAAI;AAElB,OAAO,eAAeC,eAAeA,CAAA,EAAG;EACtC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC;IACvCJ,WAAW,GAAGI,GAAG;IAEjB,MAAMC,aAAa,GAAG,MAAMD,GAAG,CAACE,WAAW,CAAC,CAAC;IAC7CJ,OAAO,GAAGG,aAAa;IAEvB,MAAME,cAAc,GAAG,MAAMH,GAAG,CAACI,YAAY,CAAC,CAAC;IAC/CP,QAAQ,GAAGM,cAAc;IAEzB,OAAO;MACLN,QAAQ,EAAEM,cAAc;MACxBL,OAAO,EAAEG;IACX,CAAC;EACH,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC1D,OAAO,IAAI;EACb;AACF;AAEA,OAAO,SAASE,eAAeA,CAAA,EAAG;EAChC,IAAI,CAACV,QAAQ,EAAE;IACb,OAAO,IAAI;EACb;EAEA,IAAI;IACF,MAAMW,IAAI,GAAGX,QAAQ,CAACW,IAAI;IAC1B,IAAI,CAACA,IAAI,EAAE;MACT,OAAO,IAAI;IACb;IAEA,OAAO;MACLC,EAAE,EAAED,IAAI,CAACC,EAAE;MACXC,SAAS,EAAEF,IAAI,CAACE,SAAS,IAAI,EAAE;MAC/BC,QAAQ,EAAEH,IAAI,CAACG,QAAQ,IAAI,EAAE;MAC7BC,QAAQ,EAAEJ,IAAI,CAACI,QAAQ,IAAI,EAAE;MAC7BC,YAAY,EAAEL,IAAI,CAACK,YAAY,IAAI,IAAI;MACvCC,KAAK,EAAEN,IAAI,CAACM,KAAK,IAAI,KAAK;MAC1BC,SAAS,EAAEP,IAAI,CAACO,SAAS,IAAI;IAC/B,CAAC;EACH,CAAC,CAAC,OAAOV,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,OAAO,IAAI;EACb;AACF;AAEA,OAAO,SAASW,WAAWA,CAAA,EAAG;EAC5B,OAAOnB,QAAQ;AACjB;AAEA,OAAO,SAASoB,UAAUA,CAAA,EAAG;EAC3B,OAAOnB,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
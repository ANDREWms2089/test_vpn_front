{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./ProfilePage.css';import icPay from'../images/icons/ic_pay.png';import icReferal from'../images/icons/ic_referal.png';import icSupport from'../images/icons/ic_support.png';import icTrans from'../images/icons/ic_trans.png';import icDoc from'../images/icons/ic_doc.png';import icTut from'../images/icons/ic_tut.png';import icCopy from'../images/icons/ic_copy.png';import TransactionsModal from'./TransactionsModal';import ReferralModal from'./ReferralModal';import AgreementModal from'./AgreementModal';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProfilePage(_ref){var _user$userid,_user$user_key;let{user,onBack,onNavigateToPayment}=_ref;const uid=(_user$userid=user===null||user===void 0?void 0:user.userid)!==null&&_user$userid!==void 0?_user$userid:user===null||user===void 0?void 0:user.id;const[subscriptionLink,setSubscriptionLink]=useState((_user$user_key=user===null||user===void 0?void 0:user.user_key)!==null&&_user$user_key!==void 0?_user$user_key:'');const[referralLink,setReferralLink]=useState('');const[friendsInvited,setFriendsInvited]=useState(0);const[isReferralLoading,setIsReferralLoading]=useState(false);const[isTransactionsOpen,setIsTransactionsOpen]=useState(false);const[isReferralOpen,setIsReferralOpen]=useState(false);const[isAgreementOpen,setIsAgreementOpen]=useState(false);useEffect(()=>{if(user!==null&&user!==void 0&&user.user_key)setSubscriptionLink(user.user_key);},[user===null||user===void 0?void 0:user.user_key]);useEffect(()=>{if(!isReferralOpen||uid==null||uid==='')return;let cancelled=false;setReferralLink('');setIsReferralLoading(true);(async()=>{try{const[linkRes,countRes]=await Promise.all([apiService.getReferralLink(String(uid)),apiService.getReferralCount(String(uid))]);if(cancelled)return;if(linkRes&&typeof linkRes.referral_link==='string'){setReferralLink(linkRes.referral_link);}if(typeof(countRes===null||countRes===void 0?void 0:countRes.referral_count)==='number'){setFriendsInvited(countRes.referral_count);}}catch(_){}if(!cancelled)setIsReferralLoading(false);})();return()=>{cancelled=true;setIsReferralLoading(false);};},[isReferralOpen,uid]);const userName=user?\"\".concat(user.first_name||'',\" \").concat(user.last_name||'').trim()||'Пользователь':'Пользователь';const userId=uid!==null&&uid!==void 0?uid:'';const handleCopyId=()=>{navigator.clipboard.writeText(String(userId));};const handleCopyLink=()=>{if(subscriptionLink)navigator.clipboard.writeText(subscriptionLink);};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"back-button\",onClick:onBack,children:/*#__PURE__*/_jsx(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15 18L9 12L15 6\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"profile-title\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-header-spacer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"profile-name\",children:userName}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-id-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"profile-id\",children:[\"id: \",userId]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"copy-button\",onClick:handleCopyId,children:/*#__PURE__*/_jsx(\"img\",{src:icCopy,alt:\"Copy\",className:\"copy-icon\"})})]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"profile-menu-item\",onClick:()=>onNavigateToPayment===null||onNavigateToPayment===void 0?void 0:onNavigateToPayment(),children:[/*#__PURE__*/_jsx(\"img\",{src:icPay,alt:\"\",className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-text\",children:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.5 5L12.5 10L7.5 15\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"profile-menu-item\",onClick:()=>setIsTransactionsOpen(true),children:[/*#__PURE__*/_jsx(\"img\",{src:icTrans,alt:\"\",className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-text\",children:\"\\u041C\\u043E\\u0438 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.5 5L12.5 10L7.5 15\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"profile-menu-item\",onClick:()=>setIsReferralOpen(true),children:[/*#__PURE__*/_jsx(\"img\",{src:icReferal,alt:\"\",className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-text\",children:\"\\u0420\\u0435\\u0444\\u0435\\u0440\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430\"}),/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.5 5L12.5 10L7.5 15\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"profile-menu-item\",onClick:()=>{},children:[/*#__PURE__*/_jsx(\"img\",{src:icSupport,alt:\"\",className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-text\",children:\"\\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.5 5L12.5 10L7.5 15\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"profile-menu-item\",onClick:()=>setIsAgreementOpen(true),children:[/*#__PURE__*/_jsx(\"img\",{src:icDoc,alt:\"\",className:\"menu-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-text\",children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u043E\\u0435 \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.5 5L12.5 10L7.5 15\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-link-section\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"subscription-link-label\",children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443 \\u0434\\u043B\\u044F \\u0440\\u0443\\u0447\\u043D\\u043E\\u0433\\u043E \\u0432\\u0432\\u043E\\u0434\\u0430:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-link-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"subscription-link-input\",value:subscriptionLink||'—',readOnly:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"copy-button\",onClick:handleCopyLink,children:/*#__PURE__*/_jsx(\"img\",{src:icCopy,alt:\"Copy\",className:\"copy-icon\"})})]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"instruction-button\",onClick:()=>{},children:[/*#__PURE__*/_jsx(\"img\",{src:icTut,alt:\"\",className:\"instruction-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"instruction-text\",children:\"\\u0418\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044F \\u0434\\u043B\\u044F \\u0432\\u0441\\u0435\\u0445 \\u043F\\u043B\\u0430\\u0442\\u0444\\u043E\\u0440\\u043C\"})]})]})]}),/*#__PURE__*/_jsx(TransactionsModal,{isOpen:isTransactionsOpen,onClose:()=>setIsTransactionsOpen(false),userId:uid}),/*#__PURE__*/_jsx(ReferralModal,{isOpen:isReferralOpen,onClose:()=>setIsReferralOpen(false),referralLink:referralLink,friendsInvited:friendsInvited,isLoading:isReferralLoading}),/*#__PURE__*/_jsx(AgreementModal,{isOpen:isAgreementOpen,onClose:()=>setIsAgreementOpen(false)})]});}export default ProfilePage;","map":{"version":3,"names":["React","useState","useEffect","icPay","icReferal","icSupport","icTrans","icDoc","icTut","icCopy","TransactionsModal","ReferralModal","AgreementModal","apiService","jsx","_jsx","jsxs","_jsxs","ProfilePage","_ref","_user$userid","_user$user_key","user","onBack","onNavigateToPayment","uid","userid","id","subscriptionLink","setSubscriptionLink","user_key","referralLink","setReferralLink","friendsInvited","setFriendsInvited","isReferralLoading","setIsReferralLoading","isTransactionsOpen","setIsTransactionsOpen","isReferralOpen","setIsReferralOpen","isAgreementOpen","setIsAgreementOpen","cancelled","linkRes","countRes","Promise","all","getReferralLink","String","getReferralCount","referral_link","referral_count","_","userName","concat","first_name","last_name","trim","userId","handleCopyId","navigator","clipboard","writeText","handleCopyLink","className","children","type","onClick","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","src","alt","value","readOnly","isOpen","onClose","isLoading"],"sources":["/Users/nikitamozaev/Desktop/beznet_miniapp/front/src/components/ProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './ProfilePage.css';\nimport icPay from '../images/icons/ic_pay.png';\nimport icReferal from '../images/icons/ic_referal.png';\nimport icSupport from '../images/icons/ic_support.png';\nimport icTrans from '../images/icons/ic_trans.png';\nimport icDoc from '../images/icons/ic_doc.png';\nimport icTut from '../images/icons/ic_tut.png';\nimport icCopy from '../images/icons/ic_copy.png';\nimport TransactionsModal from './TransactionsModal';\nimport ReferralModal from './ReferralModal';\nimport AgreementModal from './AgreementModal';\nimport apiService from '../services/api';\n\nfunction ProfilePage({ user, onBack, onNavigateToPayment }) {\n  const uid = user?.userid ?? user?.id;\n  const [subscriptionLink, setSubscriptionLink] = useState(user?.user_key ?? '');\n  const [referralLink, setReferralLink] = useState('');\n  const [friendsInvited, setFriendsInvited] = useState(0);\n  const [isReferralLoading, setIsReferralLoading] = useState(false);\n  const [isTransactionsOpen, setIsTransactionsOpen] = useState(false);\n  const [isReferralOpen, setIsReferralOpen] = useState(false);\n  const [isAgreementOpen, setIsAgreementOpen] = useState(false);\n\n  useEffect(() => {\n    if (user?.user_key) setSubscriptionLink(user.user_key);\n  }, [user?.user_key]);\n\n  useEffect(() => {\n    if (!isReferralOpen || uid == null || uid === '') return;\n    let cancelled = false;\n    setReferralLink('');\n    setIsReferralLoading(true);\n    (async () => {\n      try {\n        const [linkRes, countRes] = await Promise.all([\n          apiService.getReferralLink(String(uid)),\n          apiService.getReferralCount(String(uid)),\n        ]);\n        if (cancelled) return;\n        if (linkRes && typeof linkRes.referral_link === 'string') {\n          setReferralLink(linkRes.referral_link);\n        }\n        if (typeof countRes?.referral_count === 'number') {\n          setFriendsInvited(countRes.referral_count);\n        }\n      } catch (_) {}\n      if (!cancelled) setIsReferralLoading(false);\n    })();\n    return () => { cancelled = true; setIsReferralLoading(false); };\n  }, [isReferralOpen, uid]);\n\n  const userName = user \n    ? `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Пользователь'\n    : 'Пользователь';\n  \n  const userId = uid ?? '';\n\n  const handleCopyId = () => {\n    navigator.clipboard.writeText(String(userId));\n  };\n\n  const handleCopyLink = () => {\n    if (subscriptionLink) navigator.clipboard.writeText(subscriptionLink);\n  };\n\n  return (\n    <div className=\"profile-page\">\n      <div className=\"background\"></div>\n      <div className=\"profile-content\">\n        <div className=\"profile-header\">\n          <button type=\"button\" className=\"back-button\" onClick={onBack}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M15 18L9 12L15 6\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n          <h1 className=\"profile-title\">Профиль</h1>\n          <div className=\"profile-header-spacer\"></div>\n        </div>\n\n        <div className=\"profile-body\">\n          <div className=\"profile-info-section\">\n            <h2 className=\"profile-name\">{userName}</h2>\n            <div className=\"profile-id-container\">\n              <span className=\"profile-id\">id: {userId}</span>\n              <button type=\"button\" className=\"copy-button\" onClick={handleCopyId}>\n                <img src={icCopy} alt=\"Copy\" className=\"copy-icon\" />\n              </button>\n            </div>\n          </div>\n\n          <button type=\"button\" className=\"profile-menu-item\" onClick={() => onNavigateToPayment?.()}>\n            <img src={icPay} alt=\"\" className=\"menu-icon\" />\n            <span className=\"menu-text\">Оплата</span>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n\n          <button type=\"button\" className=\"profile-menu-item\" onClick={() => setIsTransactionsOpen(true)}>\n            <img src={icTrans} alt=\"\" className=\"menu-icon\" />\n            <span className=\"menu-text\">Мои транзакции</span>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n\n          <button type=\"button\" className=\"profile-menu-item\" onClick={() => setIsReferralOpen(true)}>\n            <img src={icReferal} alt=\"\" className=\"menu-icon\" />\n            <span className=\"menu-text\">Реферальная программа</span>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n\n          <button type=\"button\" className=\"profile-menu-item\" onClick={() => {}}>\n            <img src={icSupport} alt=\"\" className=\"menu-icon\" />\n            <span className=\"menu-text\">Связаться с поддержкой</span>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n\n          <button type=\"button\" className=\"profile-menu-item\" onClick={() => setIsAgreementOpen(true)}>\n            <img src={icDoc} alt=\"\" className=\"menu-icon\" />\n            <span className=\"menu-text\">Пользовательское соглашение</span>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n\n          <div className=\"subscription-link-section\">\n            <label className=\"subscription-link-label\">Ссылка на подписку для ручного ввода:</label>\n            <div className=\"subscription-link-input-container\">\n              <input \n                type=\"text\" \n                className=\"subscription-link-input\" \n                value={subscriptionLink || '—'} \n                readOnly\n              />\n              <button type=\"button\" className=\"copy-button\" onClick={handleCopyLink}>\n                <img src={icCopy} alt=\"Copy\" className=\"copy-icon\" />\n              </button>\n            </div>\n          </div>\n\n          <button type=\"button\" className=\"instruction-button\" onClick={() => {}}>\n            <img src={icTut} alt=\"\" className=\"instruction-icon\" />\n            <span className=\"instruction-text\">Инструкция для всех платформ</span>\n          </button>\n        </div>\n      </div>\n      <TransactionsModal \n        isOpen={isTransactionsOpen} \n        onClose={() => setIsTransactionsOpen(false)} \n        userId={uid}\n      />\n      <ReferralModal \n        isOpen={isReferralOpen} \n        onClose={() => setIsReferralOpen(false)} \n        referralLink={referralLink}\n        friendsInvited={friendsInvited}\n        isLoading={isReferralLoading}\n      />\n      <AgreementModal \n        isOpen={isAgreementOpen} \n        onClose={() => setIsAgreementOpen(false)} \n      />\n    </div>\n  );\n}\n\nexport default ProfilePage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}